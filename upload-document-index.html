<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GENEXT</title>
  <link rel="stylesheet" href="./css/bootstrap.min.css" />
  <link rel="stylesheet" href="./css/styles.css" />
</head>

<body>
  <main class="main-container">
    <!-- sidenav start -->
    <aside class="sidebar d-flex flex-column flex-shrink-0 p-3 g-primary-bg">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
        <span class="logo-wrap"><img src="./assets/icons/logo-sm.svg" alt="GENEXT" /></span>
      </a>
      <br />
      <ul class="nav nav-pills sidebar-items--wrapper">
        <li class="nav-item mb-2">
          <a href="#" class="nav-link active" aria-current="page">
            <img src="./assets/icons/material-symbols.svg" class="menu-icon" alt="icon" />
            <span class="menu-nm">Dashboard</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a href="#" class="nav-link link-dark">
            <img src="./assets/icons/distributor.svg" class="menu-icon" alt="icon" />
            <span class="menu-nm"> Regional Distributor</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a href="#" class="nav-link link-dark">
            <img src="./assets/icons/fluent_building-retail.svg" class="menu-icon" alt="icon" />
            <span class="menu-nm">Retailer</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a href="#" class="nav-link link-dark">
            <img src="./assets/icons/document.svg" class="menu-icon" alt="icon" />
            <span class="menu-nm"> Upload Document</span>
          </a>
        </li>
        <li class="nav-item mb-2">
          <a href="#" class="nav-link link-dark">
            <img src="./assets/icons/lets-icons_status.svg" class="menu-icon" alt="icon" />
            <span class="menu-nm"> IMEI Activated Status</span>
          </a>
        </li>
      </ul>
    </aside>
    <!-- sidenav end -->

    <div class="right-main-container">
      <!-- top nav start-->
      <nav class="top navbar navbar-expand-lg g-primary-bg" aria-label="navbar">
        <div class="container-fluid">
          <div class="page-title-wraper">
            <h1 class="page-title">Admin</h1>
            <!-- breadcrumb start-->
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb g-breadcrumb">
                <li class="breadcrumb-item">
                  <a class="prev-link" href="#">Dashboard</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  Admin
                </li>
              </ol>
            </nav>
            <!-- breadcrumb end-->
          </div>
          <div class="profile-btn" role="button">
            <img src="./assets/icons/distributor.svg" alt="admin" />
            <span class="user-name">Admin</span>
          </div>
        </div>
      </nav>
      <!-- top nav end-->

      <div class="content-container page--dashboard_admin g-primary-bg">
        <!-- file upload start -->
        <div class="droparea--w">
          <div class="drop-area-title text-xxl-start">
            <h2>Upload Documents</h2>
            <p>Upload the documents in company database</p>
          </div>
          <!-- <section class="droparea">
            <p>Drag & Drop or Choose file to upload</p>
            <p><small>*CSV/Excel files only</small></p>
            <button  class="btn g-secondary-btn">Browse Local Files</button>
          </section> -->
          <section class="droparea">
            <div id="dragandrophandler" class="droparea ">
              <span>Drag & Drop Files Here</span>
              <div class="g-file-u-wrapper">
                <input type="file" id="fileinput" class="g-file-u" multiple>
                <div class="c-file-u-control g-form-control">
                  <span class="choose-file-btn">Browse File</span>
                </div>
              </div>
            </div>
            <div id="uploadButtonContainer">
              <button id='uploadbutton' class="btn q-secondary-btn" disabled>Upload</button>
            </div>
            <div id="status1"></div>
          </section>
          <!-- file upload end -->
        </div>
      </div>
  </main>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="./js/bootstrap.bundle.min.js"></script>

  <script>
    var uploadButtonContainer = $("#uploadButtonContainer");
    var filesToUpload = [];

    $(document).ready(function () {
      var obj = $("#dragandrophandler");

      obj.on('dragenter', function (e) {
        e.stopPropagation();
        e.preventDefault();
        $(this).css('border', '2px solid #0B85A1');

      });

      obj.on('dragover', function (e) {
        e.stopPropagation();
        e.preventDefault();
      });

      obj.on('drop', function (e) {
        $(this).css('border', '2px dotted #0B85A1');
        e.preventDefault();
        var files = e.originalEvent.dataTransfer.files;
        //We need to send dropped files to Server
        filesToUpload = files;
      });

      uploadButton.on('click', function () {
        handleFileUpload(filesToUpload);
      });

      $(document).on('dragenter', function (e) {
        e.stopPropagation();
        e.preventDefault();
      });

      $(document).on('dragover', function (e) {
        e.stopPropagation();
        e.preventDefault();
        obj.css('border', '2px dotted #0B85A1');
      });

      $(document).on('drop', function (e) {
        e.stopPropagation();
        e.preventDefault();
      });

      // File input change event
      $("#fileinput").on('change', function (e) {
        var files = e.target.files;
        filesToUpload = files;
      });

    });

    function handleFileUpload(files) {
      for (var i = 0; i < files.length; i++) {
        var fd = new FormData();
        fd.append('file', files[i]);
        sendFileToServer(fd);
      }
    }

    function sendFileToServer(formData) {
      var uploadURL = "http://example.com/upload.php";
      // Replace with your upload URL
      $.ajax({
        url: uploadURL,
        type: "POST",
        contentType: false,
        processData: false,
        cache: false,
        data: formData,
        success: function (data) {
          $("#status1").append("File upload Done<br>");
        }
      });
    }
  </script>
</body>

</html>